---
source: crates/codegen/src/compile.rs
expression: "compile_exec(\"\\\nfor stop_exc in (StopIteration('spam'), StopAsyncIteration('ham')):\n    with self.subTest(type=type(stop_exc)):\n        try:\n            async with egg():\n                raise stop_exc\n        except Exception as ex:\n            self.assertIs(ex, stop_exc)\n        else:\n            self.fail(f'{stop_exc} was suppressed')\n\")"
---
  1           0 LOAD_NAME_ANY        (0, StopIteration)
              1 LOAD_CONST           ("spam")
              2 CALL_FUNCTION_POSITIONAL(1)
              3 LOAD_NAME_ANY        (1, StopAsyncIteration)
              4 LOAD_CONST           ("ham")
              5 CALL_FUNCTION_POSITIONAL(1)
              6 BUILD_TUPLE          (2)
              7 GET_ITER
        >>    8 FOR_ITER             (109)
              9 STORE_LOCAL          (2, stop_exc)

  2          10 LOAD_NAME_ANY        (3, self)
             11 LOAD_METHOD          (4, subTest)
             12 LOAD_NAME_ANY        (5, type)
             13 LOAD_NAME_ANY        (2, stop_exc)
             14 CALL_FUNCTION_POSITIONAL(1)
             15 LOAD_CONST           (("type"))
             16 CALL_METHOD_KEYWORD  (1)
             17 BEFORE_WITH
             18 POP_TOP

  4          19 LOAD_NAME_ANY        (6, egg)
             20 CALL_FUNCTION_POSITIONAL(0)
             21 BEFORE_ASYNC_WITH
             22 GET_AWAITABLE
             23 LOAD_CONST           (None)
             24 YIELD_FROM
             25 RESUME               (3)
             26 POP_TOP

  5          27 LOAD_NAME_ANY        (2, stop_exc)
             28 RAISE                (Raise)

  4          29 LOAD_CONST           (None)
             30 LOAD_CONST           (None)
             31 LOAD_CONST           (None)
             32 CALL_FUNCTION_POSITIONAL(3)
             33 GET_AWAITABLE
             34 LOAD_CONST           (None)
             35 YIELD_FROM
             36 RESUME               (3)
             37 POP_TOP
             38 JUMP                 (56)
             39 PUSH_EXC_INFO
             40 WITH_EXCEPT_START
             41 GET_AWAITABLE
             42 LOAD_CONST           (None)
             43 YIELD_FROM
             44 RESUME               (3)
             45 TO_BOOL
             46 POP_JUMP_IF_TRUE     (48)
             47 RERAISE              (2)
        >>   48 POP_TOP
             49 POP_EXCEPTION
             50 POP_TOP
             51 POP_TOP
             52 JUMP                 (56)
             53 COPY                 (3)
             54 POP_EXCEPTION
             55 RERAISE              (1)
        >>   56 JUMP                 (81)
             57 PUSH_EXC_INFO
             58 COPY                 (1)

  6          59 LOAD_NAME_ANY        (7, Exception)
             60 JUMP_IF_NOT_EXC_MATCH(77)
             61 STORE_LOCAL          (8, ex)

  7          62 LOAD_NAME_ANY        (3, self)
             63 LOAD_METHOD          (9, assertIs)
             64 LOAD_NAME_ANY        (8, ex)
             65 LOAD_NAME_ANY        (2, stop_exc)
             66 CALL_METHOD_POSITIONAL(2)
             67 POP_TOP
             68 POP_EXCEPTION
             69 LOAD_CONST           (None)
             70 STORE_LOCAL          (8, ex)
             71 DELETE_LOCAL         (8, ex)
             72 JUMP                 (89)
             73 LOAD_CONST           (None)
             74 STORE_LOCAL          (8, ex)
             75 DELETE_LOCAL         (8, ex)
             76 RAISE                (ReraiseFromStack)
        >>   77 RAISE                (ReraiseFromStack)
             78 COPY                 (3)
             79 POP_EXCEPTION
             80 RAISE                (ReraiseFromStack)

  9     >>   81 LOAD_NAME_ANY        (3, self)
             82 LOAD_METHOD          (10, fail)
             83 LOAD_NAME_ANY        (2, stop_exc)
             84 FORMAT_SIMPLE
             85 LOAD_CONST           (" was suppressed")
             86 BUILD_STRING         (2)
             87 CALL_METHOD_POSITIONAL(1)
             88 POP_TOP

  2     >>   89 LOAD_CONST           (None)
             90 LOAD_CONST           (None)
             91 LOAD_CONST           (None)
             92 CALL_FUNCTION_POSITIONAL(3)
             93 POP_TOP
             94 JUMP                 (108)
             95 PUSH_EXC_INFO
             96 WITH_EXCEPT_START
             97 TO_BOOL
             98 POP_JUMP_IF_TRUE     (100)
             99 RERAISE              (2)
        >>  100 POP_TOP
            101 POP_EXCEPTION
            102 POP_TOP
            103 POP_TOP
            104 JUMP                 (108)
            105 COPY                 (3)
            106 POP_EXCEPTION
            107 RERAISE              (1)
        >>  108 JUMP                 (8)
        >>  109 RETURN_CONST         (None)

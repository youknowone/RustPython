---
source: crates/codegen/src/compile.rs
assertion_line: 6343
expression: "compile_exec(\"\\\nfor stop_exc in (StopIteration('spam'), StopAsyncIteration('ham')):\n    with self.subTest(type=type(stop_exc)):\n        try:\n            async with egg():\n                raise stop_exc\n        except Exception as ex:\n            self.assertIs(ex, stop_exc)\n        else:\n            self.fail(f'{stop_exc} was suppressed')\n\")"
---
  1           0 LOAD_NAME_ANY        (0, StopIteration)
              1 LOAD_CONST           ("spam")
              2 CALL_FUNCTION_POSITIONAL(1)
              3 LOAD_NAME_ANY        (1, StopAsyncIteration)
              4 LOAD_CONST           ("ham")
              5 CALL_FUNCTION_POSITIONAL(1)
              6 BUILD_TUPLE          (2)
              7 GET_ITER
        >>    8 FOR_ITER             (64)
              9 STORE_LOCAL          (2, stop_exc)

  2          10 LOAD_NAME_ANY        (3, self)
             11 LOAD_METHOD          (4, subTest)
             12 LOAD_NAME_ANY        (5, type)
             13 LOAD_NAME_ANY        (2, stop_exc)
             14 CALL_FUNCTION_POSITIONAL(1)
             15 LOAD_CONST           (("type"))
             16 CALL_METHOD_KEYWORD  (1)
             17 SETUP_WITH           (61)
             18 POP_TOP

  4          19 LOAD_NAME_ANY        (6, egg)
             20 CALL_FUNCTION_POSITIONAL(0)
             21 BEFORE_ASYNC_WITH
             22 GET_AWAITABLE
             23 LOAD_CONST           (None)
             24 YIELD_FROM
             25 RESUME               (3)
             26 SETUP_ASYNC_WITH     (30)
             27 POP_TOP

  5          28 LOAD_NAME_ANY        (2, stop_exc)
             29 RAISE                (Raise)

  4     >>   30 WITH_CLEANUP_START
             31 GET_AWAITABLE
             32 LOAD_CONST           (None)
             33 YIELD_FROM
             34 RESUME               (3)
             35 WITH_CLEANUP_FINISH
             36 JUMP                 (53)
             37 COPY                 (1)

  6          38 LOAD_NAME_ANY        (7, Exception)
             39 JUMP_IF_NOT_EXC_MATCH(52)
             40 STORE_LOCAL          (8, ex)

  7          41 LOAD_NAME_ANY        (3, self)
             42 LOAD_METHOD          (9, assertIs)
             43 LOAD_NAME_ANY        (8, ex)
             44 LOAD_NAME_ANY        (2, stop_exc)
             45 CALL_METHOD_POSITIONAL(2)
             46 POP_TOP
             47 POP_EXCEPTION
             48 LOAD_CONST           (None)
             49 STORE_LOCAL          (8, ex)
             50 DELETE_LOCAL         (8, ex)
             51 JUMP                 (61)
        >>   52 RAISE                (Reraise)

  9     >>   53 LOAD_NAME_ANY        (3, self)
             54 LOAD_METHOD          (10, fail)
             55 LOAD_NAME_ANY        (2, stop_exc)
             56 FORMAT_SIMPLE
             57 LOAD_CONST           (" was suppressed")
             58 BUILD_STRING         (2)
             59 CALL_METHOD_POSITIONAL(1)
             60 POP_TOP

  2     >>   61 WITH_CLEANUP_START
             62 WITH_CLEANUP_FINISH
             63 JUMP                 (8)
        >>   64 RETURN_CONST         (None)
